# 🎯 ManhuntPlugin v0.1

마인크래프트 5인 맨헌트 게임을 위한 Bukkit/Spigot 플러그인입니다.

## 📋 목차

- [게임 개요](#-게임-개요)
- [주요 기능](#-주요-기능)
- [설치 방법](#-설치-방법)
- [명령어](#-명령어)
- [게임 규칙](#-게임-규칙)
- [설정 파일](#-설정-파일)
- [권한](#-권한)
- [기술적 특징](#-기술적-특징)

## 🎮 게임 개요

**ManhuntPlugin**은 마인크래프트에서 인기 있는 맨헌트 게임모드를 구현한 플러그인입니다.

- **러너** 1명이 엔드에 가서 포탈로 돌아오면 승리
- **헌터** 최대 4명이 러너를 잡으면 승리
- **관전자** 5명을 초과하는 플레이어들은 자동으로 관전자가 됩니다

## ✨ 주요 기능

### 🎯 게임 시스템
- **자동 팀 분배**: 러너 1명, 헌터 최대 4명, 나머지는 관전자
- **체력 시스템**: 러너 30♥, 헌터 20♥ (설정 가능)
- **승리 조건**: 러너가 엔드에서 오버월드 포탈로 귀환 시 승리
- **패배 조건**: 러너가 죽으면 헌터 승리

### 🧭 추적 나침반 시스템
- **/tracker** 명령어로 헌터가 러너 추적 나침반 획득
- **60초간 유효** (설정 가능)
- **5분 쿨다운** (설정 가능)
- **실시간 위치 추적**: 러너 위치를 1초마다 업데이트
- **차원 정보**: 다른 차원에 있을 때 알림 (설정 가능)
- **거리 정보**: 같은 차원에서 거리 표시 (설정 가능)
- **나침반 보호**: 던지기 금지, 드랍 방지, 다른 인벤토리 이동 금지

### 🌌 엔드 포탈 시스템
- **정중앙 스폰**: 엔드 진입 시 X=0, Z=0 정중앙에 스폰
- **안전한 높이**: Y=150 높이에서 스폰 (설정 가능)
- **느린 낙하**: 30초간 느린 낙하 효과 자동 적용 (설정 가능)
- **진입 알림**: 엔드 진입 시 전체 알림 (설정 가능)

### ⚰️ 부활 시스템
- **헌터 자동 부활**: 사망 후 5초 뒤 자동 부활
- **러너 사망**: 즉시 게임 종료 (헌터 승리)
- **관전자 빠른 부활**: 1초 후 관전자 모드로 부활

### 🏆 팀 시스템
- **스코어보드 연동**: 러너(초록색), 헌터(빨간색) 표시
- **팀 채팅**: 팀원끼리 구별 가능
- **우호 사격 방지**: 같은 팀원 공격 방지
- **투명화 효과**: 팀원의 투명화 상태 확인 가능

### 🎨 사용자 경험
- **화려한 타이틀**: 게임 시작/승리 시 타이틀 메시지
- **사운드 효과**: 각 상황에 맞는 사운드 재생
- **파티클 효과**: 엔드 진입 시 구름/포탈 파티클
- **메시지 시스템**: 모든 중요한 상황에 대한 명확한 안내

## 🔧 설치 방법

1. **다운로드**: ManhuntPlugin-0.1.jar 파일을 다운로드
2. **설치**: `plugins/` 폴더에 JAR 파일 복사
3. **재시작**: 서버 재시작
4. **확인**: `/manhunt help` 명령어로 작동 확인

### 📋 요구사항
- **Bukkit/Spigot**: 1.20 이상
- **Java**: 17 이상
- **플레이어**: 최소 2명 (러너 1명 + 헌터 1명)

## 📝 명령어

### 관리자 명령어 (`/manhunt`)
| 명령어 | 설명 | 사용법 |
|--------|------|--------|
| `/manhunt start` | 게임 시작 | `/manhunt start` |
| `/manhunt stop` | 게임 중단 | `/manhunt stop` |
| `/manhunt reset` | 게임 완전 리셋 | `/manhunt reset` |
| `/manhunt setrunner <플레이어>` | 러너 설정 | `/manhunt setrunner Twinkleping` |
| `/manhunt status` | 현재 게임 상태 확인 | `/manhunt status` |
| `/manhunt reload` | config.yml 다시 로드 | `/manhunt reload` |
| `/manhunt help` | 도움말 표시 | `/manhunt help` |

### 헌터 명령어
| 명령어 | 설명 | 사용법 |
|--------|------|--------|
| `/tracker` | 추적 나침반 획득 | `/tracker` |

## 🎮 게임 규칙

### 📚 기본 규칙
1. **게임 준비**: 최소 2명의 플레이어가 필요
2. **러너 선정**: `/manhunt setrunner <플레이어>`로 러너 지정
3. **게임 시작**: `/manhunt start`로 게임 시작
4. **자동 팀 분배**: 러너를 제외한 플레이어가 헌터로 자동 선정

### 🏃 러너 목표
- **엔드 진입**: 엔드 포탈을 통해 엔드로 이동
- **포탈 귀환**: 엔드에서 오버월드로 포탈을 통해 돌아오기
- **생존**: 헌터들로부터 살아남기

### 🏹 헌터 목표
- **러너 추적**: `/tracker` 명령어로 나침반 획득
- **러너 처치**: 러너를 죽이면 승리
- **협력**: 다른 헌터들과 협력하여 러너 추적

### 👁️ 관전자
- **자동 지정**: 5명을 초과하는 플레이어
- **관전 모드**: 게임 구경만 가능
- **포탈 제한**: 포탈 사용 불가

## ⚙️ 설정 파일

`plugins/ManhuntPlugin/config.yml` 파일에서 모든 설정을 변경할 수 있습니다.

### 🎮 게임 설정
```yaml
game:
  runner_health: 30      # 러너 체력 (하트 수)
  hunter_health: 20      # 헌터 체력 (하트 수)
  max_hunters: 4         # 최대 헌터 수
```

### 🧭 나침반 설정
```yaml
compass:
  duration: 60           # 나침반 지속시간 (초)
  cooldown: 300          # 나침반 쿨다운 (초)
  show_distance: false   # 거리 정보 표시 여부
  show_dimension: false  # 차원 정보 표시 여부
```

### 🌌 엔드 설정
```yaml
end:
  spawn_height: 150            # 엔드 스폰 높이
  show_entry_message: false    # 엔드 진입 알림 표시
  slow_falling_duration: 30    # 느린 낙하 지속시간 (초)
```

### 💬 메시지 설정
```yaml
messages:
  show_game_messages: true     # 게임 시작/종료 메시지
  show_role_messages: true     # 역할 설정 메시지
  show_portal_messages: true   # 포탈 이용 알림
```

### 🔄 설정 다시 로드
```bash
/manhunt reload
```
서버를 재시작하지 않고도 설정을 즉시 적용할 수 있습니다.

## 🔐 권한

| 권한 | 설명 | 기본값 |
|------|------|--------|
| `manhunt.admin` | 관리자 명령어 사용 | OP |
| `manhunt.hunter` | 헌터 권한 (사용하지 않음) | false |
| `manhunt.runner` | 러너 권한 (사용하지 않음) | false |

**참고**: 헌터와 러너 권한은 게임 내에서 자동으로 관리되므로 수동 설정이 불필요합니다.

## 🛠️ 기술적 특징

### 🎯 고급 기능
- **실시간 나침반 추적**: 1초마다 러너 위치 업데이트
- **차원 간 추적**: 오버월드, 네더, 엔드 모든 차원 지원
- **안전한 엔드 스폰**: 보이드 낙하 방지를 위한 높은 스폰 위치
- **나침반 보호**: 여러 방법으로 나침반 악용 방지

### 🔧 안정성
- **오류 처리**: 모든 주요 기능에 예외 처리 구현
- **메모리 관리**: 게임 종료 시 모든 추적 및 쿨다운 정리
- **동시성 안전**: 스레드 안전한 데이터 구조 사용

### 🎨 사용자 친화적
- **직관적 명령어**: 간단하고 기억하기 쉬운 명령어
- **자세한 피드백**: 모든 작업에 대한 명확한 메시지
- **자동 완성**: Tab 키를 이용한 명령어 자동 완성

### 📊 모니터링
- **게임 상태 추적**: 실시간 게임 상태 모니터링
- **플레이어 추적**: 각 플레이어의 역할과 상태 관리
- **성능 최적화**: 효율적인 이벤트 처리

## 🎊 특별한 기능들

### ✨ 화려한 연출
- **승리 타이틀**: 게임 종료 시 화려한 타이틀과 사운드
- **파티클 효과**: 엔드 진입 시 구름과 포탈 파티클
- **팀 색깔**: 스코어보드에서 러너(초록), 헌터(빨강) 구분

### 🛡️ 균형 조정
- **체력 차이**: 러너가 더 많은 체력으로 생존력 향상
- **헌터 부활**: 헌터 사망 시 자동 부활로 추적 지속
- **나침반 제한**: 쿨다운과 지속시간으로 균형 유지

### 🎮 편의 기능
- **자동 팀 분배**: 수동 설정 없이 자동으로 팀 구성
- **관전자 자동 전환**: 5명 초과 시 자동 관전자 모드
- **설정 핫 리로드**: 서버 재시작 없이 설정 변경

---

## 📞 지원

**버전**: v0.1  
**제작자**: Twinkleping  
**API 버전**: 1.21

플러그인 사용 중 문제가 발생하면 `/manhunt status`로 현재 상태를 확인하거나 `/manhunt reset`으로 게임을 초기화하세요.

**즐거운 맨헌트 게임 되세요!** 🎯
